apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: prometheus-clusterrole
rules:
  # üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã Kubernetes
  - apiGroups: [""]
    resources:
      - nodes
      - nodes/proxy
      - services
      - endpoints
      - pods
    verbs:
      - get
      - list
      - watch

  # üìå Ingress'—ã (–µ—Å–ª–∏ –±—É–¥–µ—à—å –∏—Ö –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å)
  - apiGroups:
      - extensions
      - networking.k8s.io
    resources:
      - ingresses
    verbs:
      - get
      - list
      - watch

  # üìå –î–æ—Å—Ç—É–ø –∫ /metrics –∫–∞–∫ non-resource URL
  - nonResourceURLs:
      - /metrics
    verbs:
      - get